{"version":3,"file":"common.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC1BA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AAEA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAKA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AAHA;;;;;;;;;;;;;;;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAcA;AACA;AACA;AAOA;AACA;AACA;AAFA;AAGA;AAAA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAIA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAIA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAIA;AACA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAEA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AAEA;AAAA;AAEA;AACA;;AAEA;AACA;AAEA;AACA;AACA;AACA;AAIA;AAAA;AAIA;AACA;AACA;;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AANA;AAQA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAGA;AAGA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AA1FA;AAAA;AAAA;AAAA;AA4FA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAGA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAKA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAGA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAKA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAGA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAGA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAKA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAAA;AAIA;;;;;;;;;;;AC7SA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;;AAEA;;AAQA;AAAA;AAMA;AACA;;AAEA;AACA;AACA;AAAA;;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AAIA;AACA;AAAA;AAKA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAKA;AAAA;AACA;AAMA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;AC3IA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;;;;;;;;;;;;;;;ACzCA;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5CA;AACA;AACA;AACA;AAGA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAzBA;AAAA;AAAA;AAAA;AA2BA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AAvGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0GA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrHA;AAEA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAEA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AArDA;AAAA;AAAA;AAAA;AAuDA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAhGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyFA;;;;;;;;;;;;;;;;;;;;;;;;AC1GA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAIA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAvFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0FA;;;;;;;;;;;;;;;;AC9FA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACHA;AACA;AACA;AACA;;AAaA;AACA;AACA;;AAcA;AACA;AACA;;AAMA;AACA;AACA;;AASA;AACA;AACA;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AAEA;AAKA;;AAEA;AACA;AACA;;AAaA;AACA;AACA;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAQA;AACA;AACA;;AAaA;AACA;AACA;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAEA;;;;;;;;;;;;;;;;ACjOA;AACA;;AAEA;AACA;AACA;;AAmBA;AACA;AACA;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;;AAGA;AAAA;AAzEA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAqEA;AAAA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;;AAEA;AACA;AAAA;AACA;;AAEA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;;AAGA;;AAWA;;;;;;;;;;;;;;;;ACzKA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://AppStarCardWXSS/._src_assets_index_index.ts","webpack://AppStarCardWXSS/._src_common_env.ts","webpack://AppStarCardWXSS/._src_common_events.ts","webpack://AppStarCardWXSS/._src_common_http.ts","webpack://AppStarCardWXSS/._src_common_native.ts","webpack://AppStarCardWXSS/._src_components_PageSkeleton_index.tsx","webpack://AppStarCardWXSS/._src_constants_app.const.ts","webpack://AppStarCardWXSS/._src_constants_page.const.ts","webpack://AppStarCardWXSS/._src_models_loginModel.ts","webpack://AppStarCardWXSS/._src_models_myModel.ts","webpack://AppStarCardWXSS/._src_models_photoModel.ts","webpack://AppStarCardWXSS/._src_services_actions.ts","webpack://AppStarCardWXSS/._src_services_apis_index.api.ts","webpack://AppStarCardWXSS/._src_services_apis_login.api.ts","webpack://AppStarCardWXSS/._src_shims_hb-taro-fusion-components.ts","webpack://AppStarCardWXSS/._src_utils_jumpTo.ts"],"sourcesContent":["import stats_card_icon from './stats_card_icon.png';\nimport back_white_icon from '@/assets/icons/back_white_icon.png';\nimport forward_icon from '@/assets/icons/forward_icon.png';\n\nexport const IMG_header_banner = 'https://m.hellobike.com/resource/gallery/146/WH7JGaID_shelves-ranking-bg.jpg?x-oss-process=image/quality,q_80';\nexport const IMG_stats_card_icon = stats_card_icon;\nexport const backWhiteIcon = back_white_icon;\nexport const forwardIcon = forward_icon;\nexport const StarCard_icon = 'https://m.hellobike.com/resource/gallery/92/0OS9ymV4_taichi_image.png';\nexport const StarCard_icon_white = 'https://m.hellobike.com/resource/gallery/92/GP4xS2lW_taichi_image.png';\nexport const StarCard_home_bg = 'https://m.hellobike.com/resource/gallery/92/dlEYQJR1_taichi_image.png';\nexport const scanIcon = 'https://m.hellobike.com/resource/gallery/92/RNR6sCCR_taichi_image.png';\nexport const identifyText = 'https://m.hellobike.com/resource/gallery/92/WKS6PzmB_taichi_image.png';\nexport const identifyText_icon = 'https://m.hellobike.com/resource/gallery/92/21jUo7pP_taichi_image.png';\nexport const historySectionTitle = 'https://m.hellobike.com/resource/gallery/92/kiVCxiso_taichi_image.png';\nexport const cardDecoration = 'https://m.hellobike.com/resource/gallery/92/LXjbY5z__taichi_image.png';\nexport const appraisalPassed = 'https://m.hellobike.com/resource/gallery/92/Z_vTBn4T_taichi_image.png';\nexport const resultBgImage = 'https://m.hellobike.com/resource/gallery/92/Lw0SD8W5_taichi_image.png';\nexport const checkSuccess = 'https://m.hellobike.com/resource/gallery/92/BvUA7uS0_taichi_image.png';\nexport const settingsIcon = 'https://m.hellobike.com/resource/gallery/92/QvxK6yms_taichi_image.png';\nexport const exampleImage1 = 'https://m.hellobike.com/resource/gallery/92/7fVot3e1_taichi_image.png';\nexport const exampleImage2 = 'https://m.hellobike.com/resource/gallery/92/xcivWDGk_taichi_image.png';\nexport const exampleImage3 = 'https://m.hellobike.com/resource/gallery/92/FRIx5-E5_taichi_image.png';\nexport const exampleImage4 = 'https://m.hellobike.com/resource/gallery/92/6IT_s0mi_taichi_image.png';\nexport const albumIcon = 'https://m.hellobike.com/resource/gallery/92/IJdS5p2o_taichi_image.png';\nexport const torchIcon = 'https://m.hellobike.com/resource/gallery/92/bC9vHsae_taichi_image.png';\nexport const underAppraisalBg = 'https://m.hellobike.com/f46293eb_under_%20appraisal_bg.png';\nexport const noListIcon = 'https://m.hellobike.com/resource/gallery/92/VY_d3wit_taichi_image.png';\n","import { IGenericFunction } from '@/services/types';\nimport pkgJson from '../../package.json';\n\nconst appEnv = process.env.NEW_MP_TYPE || 'weapp';\n// eslint-disable-next-line\nlet _codeEnv = process.env.CODE_ENV || 'pro';\nconst appName = pkgJson.appNameMapping[appEnv];\n\n// eslint-disable-next-line\nconst envTag = '';\n\nconst codeEnvCallbacks: IGenericFunction[] = [];\n\nexport default class Env {\n  /**\n   * 原始codeEnv\n   */\n  static get originCodeEnv() {\n    return _codeEnv;\n  }\n\n  /**\n   * 获取版本号\n   */\n  static get codeEnv() {\n    if (_codeEnv) {\n      return _codeEnv?.split('_')[0];\n    }\n    return _codeEnv;\n  }\n\n  /**\n   * 设置版本号\n   */\n  static set codeEnv(val) {\n    _codeEnv = val;\n    const env = this.codeEnv;\n    codeEnvCallbacks.forEach((fn: IGenericFunction) => {\n      fn(env);\n    });\n  }\n\n  /**\n   * 全局设置代码环境\n   */\n  static setCodeEnv(val: string) {\n    this.codeEnv = val;\n  }\n\n  /**\n   * 注册观察者（在环境变化时通知）\n   * @param callback - 观察者函数\n   * @return 注销回调\n   */\n  static register(callback: IGenericFunction) {\n    codeEnvCallbacks.push(callback);\n    const { length } = codeEnvCallbacks;\n    return () => {\n      codeEnvCallbacks.splice(length - 1, 1);\n    };\n  }\n\n  static get codeEnvTag() {\n    if (_codeEnv === 'fat') {\n      return envTag;\n    }\n    if (_codeEnv === 'dev') {\n      return 'dev';\n    }\n    if (_codeEnv === 'uat') {\n      return '';\n    }\n    return undefined;\n  }\n\n  /**\n   * 小程序业务版本号\n   */\n  static appVersion = pkgJson.version;\n\n  /**\n   * 小程序在各端的APP名称\n   */\n  static appName = appName;\n\n  /**\n   * 小程序工程名称\n   */\n  static projectName = pkgJson.name;\n\n  /**\n   * 小程序端类型\n   * - 枚举：weapp,alipay,tt,hello,pet,petbos,rent\n   */\n  static appEnv = appEnv;\n}\n","// EventBus 已移除，使用空对象替代\nexport const LoginEvent = {\n  on: (_cb: (...args: unknown[]) => void) => {},\n  off: (_cb: (...args: unknown[]) => void) => {},\n  offCurrent: () => {},\n  trigger: (..._args: unknown[]) => {},\n};\n\nexport const TestEvent = {\n  on: (_cb: (...args: unknown[]) => void) => {},\n  off: (_cb: (...args: unknown[]) => void) => {},\n  offCurrent: () => {},\n  trigger: (..._args: unknown[]) => {},\n};\n","/**\n * HTTP 请求封装\n * 基于 Taro.request 封装的 HTTP 请求工具\n */\n\nimport Taro from '@tarojs/taro';\nimport appConst from '@/constants/app.const';\nimport loginModel from '@/models/loginModel';\n\n/**\n * 请求配置接口\n */\nexport interface RequestConfig {\n  url: string;\n  method?: 'GET' | 'POST' | 'PUT' | 'DELETE' | 'PATCH';\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  data?: any;\n  header?: Record<string, string>;\n  timeout?: number;\n  /**\n   * 是否在请求体中包含 token，默认为 true\n   */\n  includeToken?: boolean;\n}\n\n/**\n * 响应数据格式\n */\nexport interface ResponseData<T = Record<string, unknown>> {\n  code: number;\n  message: string;\n  data: T;\n}\n\n/**\n * HTTP 请求类\n */\nclass Http {\n  /**\n   * 基础URL（可配置）\n   */\n  private baseURL: string = appConst.BASE_API;\n\n  /**\n   * 默认超时时间\n   */\n  private timeout: number = 10000;\n\n  /**\n   * 默认请求头\n   */\n  private defaultHeaders: Record<string, string> = {\n    'Content-Type': 'application/json',\n  };\n\n  /**\n   * 请求拦截器\n   */\n  private requestInterceptor?: (config: RequestConfig) => RequestConfig;\n\n  /**\n   * 响应拦截器\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private responseInterceptor?: (response: any) => any;\n\n  /**\n   * 设置基础URL\n   */\n  setBaseURL(url: string) {\n    this.baseURL = url;\n  }\n\n  /**\n   * 设置默认超时时间\n   */\n  setTimeout(timeout: number) {\n    this.timeout = timeout;\n  }\n\n  /**\n   * 设置默认请求头\n   */\n  setDefaultHeaders(headers: Record<string, string>) {\n    this.defaultHeaders = { ...this.defaultHeaders, ...headers };\n  }\n\n  /**\n   * 设置请求拦截器\n   */\n  setRequestInterceptor(interceptor: (config: RequestConfig) => RequestConfig) {\n    this.requestInterceptor = interceptor;\n  }\n\n  /**\n   * 设置响应拦截器\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setResponseInterceptor(interceptor: (response: any) => any) {\n    this.responseInterceptor = interceptor;\n  }\n\n  /**\n   * 发起请求\n   */\n  private async request<T = Record<string, unknown>>(\n    config: RequestConfig,\n  ): Promise<ResponseData<T>> {\n    try {\n      // 判断是否是完整的 URL\n      // const isFullUrl = /^https?:\\/\\//.test(config.url);\n      // const finalUrl = isFullUrl ? config.url : this.baseURL + config.url;\n\n      // 获取 token（从 loginModel 动态获取）\n      const token = loginModel.loginResult?.token || '';\n      // 是否包含 token，默认为 true\n      const includeToken = config.includeToken !== false;\n\n      // 合并 data，如果 includeToken 为 true 且有 token，则添加到请求体中\n      let finalData = config.data;\n      if (includeToken && token) {\n        if (finalData && typeof finalData === 'object' && !Array.isArray(finalData)) {\n          // 如果 data 是对象，添加 token\n          finalData = {\n            ...finalData,\n            token,\n          };\n        } else {\n          // 如果 data 不存在或不是对象，创建包含 token 的对象\n          finalData = {\n            ...(finalData || {}),\n            token,\n          };\n        }\n      }\n\n      // 合并配置\n      let finalConfig: RequestConfig = {\n        ...config,\n        url: this.baseURL,\n        method: config.method || 'GET',\n        data: finalData,\n        header: {\n          ...this.defaultHeaders,\n          ...config.header, // 用户自定义 header\n        },\n        timeout: config.timeout || this.timeout,\n      };\n\n      // 执行请求拦截器\n      if (this.requestInterceptor) {\n        finalConfig = this.requestInterceptor(finalConfig);\n      }\n\n      // 发起请求\n      const response = await Taro.request({\n        url: finalConfig.url,\n        method: finalConfig.method,\n        data: finalConfig.data,\n        header: finalConfig.header,\n        timeout: finalConfig.timeout,\n      });\n\n      // 执行响应拦截器\n      let result = response.data as ResponseData<T>;\n      if (this.responseInterceptor) {\n        result = this.responseInterceptor(result);\n      }\n\n      // 判断请求是否成功\n      if (response.statusCode >= 200 && response.statusCode < 300) {\n        // 判断业务是否成功\n        if (result.code === 0) {\n          return result;\n        }\n\n        // 如果返回 code 为 103，清除登录态并跳转到我的页面\n        if (result.code === 103) {\n          loginModel.logout();\n          // 跳转到我的页面（tabBar 页面需要使用 switchTab）\n          Taro.switchTab({\n            url: '/pages/my/my',\n          });\n          throw new Error(result.message || '登录已失效，请重新登录');\n        }\n\n        throw new Error(result.message || '请求失败');\n      }\n\n      const errorMsg = response.statusCode === 404 ? '接口不存在' : '请求失败';\n      throw new Error(`HTTP ${response.statusCode}: ${errorMsg}`);\n    } catch (error) {\n      const err = error as Error;\n      throw new Error(err.message || '网络请求失败');\n    }\n  }\n\n  /**\n   * GET 请求\n   */\n  get<T = Record<string, unknown>>(\n    url: string,\n    params?: Record<string, unknown>,\n    config?: Partial<RequestConfig>,\n  ): Promise<ResponseData<T>> {\n    // 将 params 转换为查询字符串\n    let fullUrl = url;\n    if (params) {\n      const queryString = Object.keys(params)\n        .map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(String(params[key]))}`)\n        .join('&');\n      fullUrl = url.includes('?') ? `${url}&${queryString}` : `${url}?${queryString}`;\n    }\n\n    return this.request<T>({\n      url: fullUrl,\n      method: 'GET',\n      ...config,\n    });\n  }\n\n  /**\n   * POST 请求\n   */\n  post<T = Record<string, unknown>>(\n    url: string,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    data?: any,\n    config?: Partial<RequestConfig>,\n  ): Promise<ResponseData<T>> {\n    return this.request<T>({\n      url,\n      method: 'POST',\n      data: {\n        action: url,\n        ...data,\n      },\n      ...config,\n    });\n  }\n\n  /**\n   * PUT 请求\n   */\n  put<T = Record<string, unknown>>(\n    url: string,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    data?: any,\n    config?: Partial<RequestConfig>,\n  ): Promise<ResponseData<T>> {\n    return this.request<T>({\n      url,\n      method: 'PUT',\n      data,\n      ...config,\n    });\n  }\n\n  /**\n   * DELETE 请求\n   */\n  delete<T = Record<string, unknown>>(\n    url: string,\n    params?: Record<string, unknown>,\n    config?: Partial<RequestConfig>,\n  ): Promise<ResponseData<T>> {\n    // 将 params 转换为查询字符串\n    let fullUrl = url;\n    if (params) {\n      const queryString = Object.keys(params)\n        .map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(String(params[key]))}`)\n        .join('&');\n      fullUrl = url.includes('?') ? `${url}&${queryString}` : `${url}?${queryString}`;\n    }\n\n    return this.request<T>({\n      url: fullUrl,\n      method: 'DELETE',\n      ...config,\n    });\n  }\n\n  /**\n   * PATCH 请求\n   */\n  patch<T = Record<string, unknown>>(\n    url: string,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    data?: any,\n    config?: Partial<RequestConfig>,\n  ): Promise<ResponseData<T>> {\n    return this.request<T>({\n      url,\n      method: 'PATCH',\n      data,\n      ...config,\n    });\n  }\n}\n\n// 导出单例\nexport default new Http();\n","// 直接导入并重新导出，避免继承问题\nimport BaseNative from '@hb/taro-fusion-components';\n\n// 直接导出 BaseNative，不再包装\nexport default BaseNative;\n","import React, { useEffect, useState } from 'react';\r\nimport { View } from '@tarojs/components';\r\nimport Taro from '@tarojs/taro';\r\nimport './index.scss';\r\n\r\n// PageSkeleton 组件属性接口\r\nexport interface PageSkeletonProps {\r\n  className?: string;\r\n  children?: React.ReactNode;\r\n  onScrollToLower?: () => void;\r\n  customProps?: Record<string, unknown>;\r\n}\r\n\r\n// 全局选项接口\r\nexport interface PageSkeletonGlobalOptions {\r\n  onPageUnload?: () => void;\r\n  customSlotRender?: (props: PageSkeletonProps) => React.ReactNode;\r\n}\r\n\r\n// 全局选项存储\r\nlet globalOptions: PageSkeletonGlobalOptions = {};\r\n\r\n// PageSkeleton 组件实现\r\nconst PageSkeletonComponent: React.FC<PageSkeletonProps> = (props) => {\r\n  const { className, children } = props;\r\n  \r\n  // 胶囊按钮信息\r\n  const [capsuleHeight, setCapsuleHeight] = useState<number>(0);\r\n  // 胶囊按钮顶部位置\r\n  const [capsuleTop, setCapsuleTop] = useState<number>(0);\r\n  // 安全区域信息\r\n  const [safeAreaBottom, setSafeAreaBottom] = useState<number>(0);\r\n\r\n  useEffect(() => {\r\n    // 获取胶囊按钮信息\r\n    try {\r\n      const menuButton = Taro.getMenuButtonBoundingClientRect();\r\n      if (menuButton) {\r\n        if (menuButton.height) {\r\n          setCapsuleHeight(menuButton.height);\r\n        }\r\n        if (menuButton.top !== undefined) {\r\n          setCapsuleTop(menuButton.top);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.warn('获取胶囊按钮信息失败:', error);\r\n    }\r\n\r\n    // 获取安全区域信息\r\n    try {\r\n      const systemInfo = Taro.getSystemInfoSync();\r\n      const safeArea = systemInfo.safeArea;\r\n      if (safeArea) {\r\n        // 计算底部安全区域高度 = 屏幕高度 - 安全区域底部\r\n        const screenHeight = systemInfo.screenHeight || systemInfo.windowHeight || 0;\r\n        const safeAreaBottomValue = screenHeight - (safeArea.bottom || 0);\r\n        setSafeAreaBottom(safeAreaBottomValue);\r\n      }\r\n    } catch (error) {\r\n      console.warn('获取安全区域信息失败:', error);\r\n    }\r\n\r\n    // 组件卸载时调用 onPageUnload\r\n    return () => {\r\n      if (globalOptions.onPageUnload) {\r\n        globalOptions.onPageUnload();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // 分离具名插槽\r\n  let headerSlot: React.ReactNode = null;\r\n  let bodySlot: React.ReactNode = null;\r\n  let footerSlot: React.ReactNode = null;\r\n\r\n  React.Children.forEach(children, (child) => {\r\n    if (React.isValidElement(child) && child.key) {\r\n      if (child.key === 'header') {\r\n        headerSlot = child;\r\n      } else if (child.key === 'body') {\r\n        bodySlot = child;\r\n      } else if (child.key === 'footer') {\r\n        footerSlot = child;\r\n      }\r\n    }\r\n  });\r\n\r\n  // 如果没有找到具名插槽，将所有 children 作为 body\r\n  if (!headerSlot && !bodySlot && !footerSlot && children) {\r\n    bodySlot = children;\r\n  }\r\n\r\n  // 自定义插槽渲染\r\n  const customSlot = globalOptions.customSlotRender\r\n    ? globalOptions.customSlotRender(props)\r\n    : null;\r\n\r\n  return (\r\n    <View className={`page-skeleton ${className || ''}`}>\r\n      {customSlot}\r\n      {/* Header 区域 */}\r\n      {headerSlot && (\r\n        <View \r\n          className=\"page-skeleton__header\"\r\n          style={{ \r\n            height: capsuleTop && capsuleHeight ? `${capsuleTop + capsuleHeight}px` : 'auto',\r\n            minHeight: capsuleHeight ? `${capsuleHeight}px` : 'auto'\r\n          }}\r\n        >\r\n          {headerSlot}\r\n        </View>\r\n      )}\r\n      {/* Body 区域 */}\r\n      {bodySlot && (\r\n        <View className=\"page-skeleton__body\">\r\n          {bodySlot}\r\n        </View>\r\n      )}\r\n      {/* Footer 区域 */}\r\n      {footerSlot && (\r\n        <View \r\n          className=\"page-skeleton__footer\"\r\n          style={{ paddingBottom: safeAreaBottom ? `${safeAreaBottom}px` : '0' }}\r\n        >\r\n          {footerSlot}\r\n        </View>\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\n// 创建 PageSkeleton 组件，包含静态方法\r\nconst PageSkeleton = Object.assign(PageSkeletonComponent, {\r\n  setGlobalOptions: (options: PageSkeletonGlobalOptions) => {\r\n    globalOptions = { ...globalOptions, ...options };\r\n  },\r\n});\r\n\r\nexport default PageSkeleton;\r\n","import env from '@/common/env';\n\n/**\n * 系统级别的常量定义在这里，其他常量定义在 page.const.ts 中\n */\nconst appConst = {\n  CATEGORY_ID: process.env.CATEGORY_ID || '',\n  SYSTEM_CODE: process.env.SYSTEM_CODE || '',\n  PAY_CHANNEL: process.env.PAY_CHANNEL || '',\n  MINA_ORIGIN_ID: process.env.MINA_ORIGIN_ID || '',\n  LOCATION_ENABLE: process.env.LOCATION_ENABLE || 0,\n  WISHDOM_ENABLE: process.env.WISHDOM_ENABLE || 0,\n  UPDATE_ENABLE: process.env.UPDATE_ENABLE || 0,\n  BASE_API: 'https://120.26.179.60:3000/',\n};\n\n/**\n * 根据不同环境设置\n * @param codeEnv\n */\nexport function setEnvConst(codeEnv: string) {\n  if (codeEnv === 'pro') {\n    appConst.BASE_API = 'https://120.26.179.60:3000/';\n    // uat\n  } else if (codeEnv === 'uat') {\n    appConst.BASE_API = 'https://120.26.179.60:3000/';\n    // dev/test\n  } else if (codeEnv === 'fat') {\n    // appConst.BASE_API = 'https://fat-starcard.hellobike.cn/api';\n    // appConst.BASE_API = 'http://172.17.179.106:3000/api';\n    appConst.BASE_API = 'http://120.26.179.60:3000/api';\n\n    // pre\n  } else if (codeEnv === 'pre') {\n    appConst.BASE_API = 'https://120.26.179.60:3000/';\n  }\n}\n\nsetEnvConst(env.codeEnv);\nenv.register(setEnvConst);\n\nexport default appConst;\n","import {\n  exampleImage1, exampleImage2, exampleImage3, exampleImage4,\n} from '@/assets/index';\n\n/** 业务级别常量  */\nexport const defaultUserAvatar = 'https://m.hellobike.com/resource/gallery/146/ZXjt3BBT_user-avatar1.png';\n\n/** 相机拍摄步骤配置 */\nexport const CAMERA_STEP_INFO = {\n  1: {\n    title: '拍摄「小卡正面」',\n    label: '小卡正面',\n    description: '裸卡状态下，将手机垂直正对卡面，靠近镜头使卡面铺满，避免角度倾斜和反光，光线充足，对焦清晰',\n    required: true,\n    image: exampleImage1,\n  },\n  2: {\n    title: '拍摄「小卡背面」',\n    label: '小卡背面',\n    description: '裸卡状态下，将手机垂直正对卡面，靠近镜头使卡面铺满，避免角度倾斜和反光，光线充足，对焦清晰',\n    required: true,\n    image: exampleImage2,\n  },\n  3: {\n    title: '拍摄「小卡正面纹路对光」',\n    label: '小卡正面纹路对光',\n    description: '光线充足，对焦清晰，卡面不要反光，能看清字体符号等细节，主要拍摄logo等文字细节',\n    required: false,\n    image: exampleImage2,\n  },\n  4: {\n    title: '拍摄「背面文字logo」',\n    label: '背面文字logo',\n    description: '裸卡状态下，将手机垂直正对卡面，靠近镜头使卡面铺满，避免角度倾斜和反光，光线充足，对焦清晰',\n    required: false,\n    image: exampleImage3,\n  },\n  5: {\n    title: '拍摄「小卡像素点」',\n    label: '小卡像素点',\n    description: '裸卡状态下，将手机垂直正对卡面，靠近镜头使卡面铺满，避免角度倾斜和反光，光线充足，对焦清晰',\n    required: false,\n    image: exampleImage4,\n  },\n} as const;\n","import { Storage, ILoginResult } from '@hb/taro-fusion-components';\nimport { observable } from 'mobx';\nimport { LoginEvent } from '@/common/events';\nimport Native from '@/common/native';\nimport { ICheckLoginOptions } from '@/services/types';\n\nconst LOGIN_RESULT_KEY = 'login_result';\nclass LoginModel {\n  /**\n   * 登录态\n   */\n  @observable loginResult = {} as ILoginResult;\n\n  /**\n   * 初始化登录态\n   */\n  initAppLogin() {\n    if (Native.IS_MPAAS) {\n      // 没有缓存，则重新获取\n      Native.getAppLoginResult().then((res) => {\n        this.setLoginResult(res);\n      }).catch(() => {\n        this.setLoginResult({} as ILoginResult);\n      });\n    } else {\n      const loginResult = Storage.getItemSync(LOGIN_RESULT_KEY) || {} as ILoginResult;\n      this.setLoginResult((loginResult || {}) as ILoginResult);\n    }\n  }\n\n  /**\n   * 登录态保护机制，常用于以下两个场景：\n   * - 仅在登录态下调用某些接口；或者不同登录态处理不同逻辑\n   * - 当登录态发生变化时，需要重新执行原来的逻辑（一般用于页面初始化监听，便于及时更新页面）\n   * @param callback 登录态初始完成后的回调函数\n   * @param options ICheckLoginOptions\n   */\n  checkLogin(callback: (isLogin: boolean) => void, options: ICheckLoginOptions = {}) {\n    this.getLoginResult().then((res) => {\n      // 判断登录态：如果有 token 就算登录（ticket 可能是可选的）\n      const isLogin = !!res.token;\n      // eslint-disable-next-line no-console\n      console.log('checkLogin 初始判断:', isLogin, 'token:', res.token, 'ticket:', res.ticket);\n      callback(isLogin);\n    });\n\n    const { observe = false, observeMode = 'all' } = options;\n\n    if (observe) {\n      // 关于 observe 参数：当页面销毁时，系统会自动扫描并移除监听器，无需手动回收。\n      LoginEvent.on((loginResult) => {\n        // 判断登录态：如果有 token 就算登录（ticket 可能是可选的）\n        const isLogin = !!loginResult.token;\n        // eslint-disable-next-line no-console\n        console.log('checkLogin 监听事件:', isLogin, 'token:', loginResult.token, 'ticket:', loginResult.ticket);\n        callback(isLogin);\n      }, observeMode);\n    }\n  }\n\n  /**\n   * 设置登录态（登录后或注销后调用）\n   * @param loginResult ILoginResult\n   */\n  setLoginResult(loginResult: ILoginResult) {\n    // eslint-disable-next-line no-console\n    console.log('setLoginResult 保存登录态:', loginResult, 'token:', loginResult?.token, 'ticket:', loginResult?.ticket);\n    this.loginResult = loginResult;\n    // MPAAS 环境无需持久化，以免App退出登录导致登录态不同步\n    if (!Native.IS_MPAAS) {\n      Storage.setItemSync(LOGIN_RESULT_KEY, loginResult, 90);\n    }\n    // 触发事件给应用层，用于做不同的逻辑处理\n    LoginEvent.trigger(loginResult);\n  }\n\n  /**\n   * 获取登录态（无论如何都返回结果）\n   * @description 优先取缓存，再从桥或本地缓存中获取，如果都没有，则返回 { }\n   * @returns ILoginResult | {}\n   */\n  async getLoginResult() {\n    // 优先取缓存（只要有 token 就算有登录态，ticket 可能是可选的）\n    if (this.loginResult.token) {\n      // eslint-disable-next-line no-console\n      console.log('getLoginResult 从缓存获取:', this.loginResult);\n      return Promise.resolve(this.loginResult);\n    }\n\n    if (Native.IS_MPAAS) {\n      // 没有缓存，则重新获取\n      return Native.getAppLoginResult().then((res) => {\n        // eslint-disable-next-line no-console\n        console.log('getLoginResult 从 Native 获取:', res);\n        return res;\n      }).catch(() => {\n        // eslint-disable-next-line no-console\n        console.log('getLoginResult Native 获取失败，返回空对象');\n        return {} as ILoginResult;\n      });\n    }\n\n    const loginResult = Storage.getItemSync(LOGIN_RESULT_KEY) || {} as ILoginResult;\n    // eslint-disable-next-line no-console\n    console.log('getLoginResult 从 Storage 获取:', loginResult);\n    return Promise.resolve((loginResult || {}) as ILoginResult);\n  }\n\n  /**\n   * 注销登录信息\n   */\n  logout() {\n    this.setLoginResult({} as ILoginResult);\n    Storage.removeItemSysnc(LOGIN_RESULT_KEY);\n  }\n}\n\nexport default new LoginModel();\n","import { action, observable } from 'mobx';\nimport { ResUserInfoVo } from '@/services/apis/app.api';\nimport {\n  requestIdentifyTaskListApi, IdentifyTaskItem,\n} from '@/services/apis/index.api';\n\nclass MyModel {\n  @observable userInfo: ResUserInfoVo = Object.call(null);\n\n  @observable cardList: IdentifyTaskItem[] = [];\n\n  @observable loading = false;\n\n  @observable pageNo = 1;\n\n  @observable pageSize = 20;\n\n  @observable hasMore = true;\n\n  @action\n  setUserInfo(userInfo: ResUserInfoVo) {\n    this.userInfo = userInfo;\n  }\n\n  /**\n   * 获取我的鉴定任务列表（包含 token）\n   */\n  @action\n  async getMyIdentifyTaskList(reset = false) {\n    if (this.loading) return;\n\n    if (reset) {\n      this.pageNo = 1;\n      this.cardList = [];\n      this.hasMore = true;\n    }\n\n    if (!this.hasMore) return;\n\n    this.loading = true;\n\n    try {\n      const result = await requestIdentifyTaskListApi(\n        {\n          pageNo: this.pageNo,\n          pageSize: this.pageSize,\n        },\n        {\n          includeToken: true, // 我的页面必须包含 token\n        },\n      );\n\n      // Http.post 返回格式: { code: 0, message: 'success', data: IdentifyTaskListResponse }\n      // result.data 就是 IdentifyTaskListResponse\n      // IdentifyTaskListResponse: { code: 0, msg: 'success', data: ResIdentifyTaskList }\n      // result.data.data 就是 ResIdentifyTaskList: { total, pageCount, data: IdentifyTaskItem[] }\n      // 检查 result.code 和 result.data.code\n      if (result.code === 0 && result.data) {\n        // const taskListData = result.data.data; // ResIdentifyTaskList\n        const { total, pageCount, data } = result.data;\n\n        if (data && Array.isArray(data)) {\n          this.cardList = reset\n            ? data\n            : [...this.cardList, ...data];\n          this.pageNo += 1;\n          this.hasMore = this.cardList.length < total;\n        } else {\n          // eslint-disable-next-line no-console\n          console.warn('鉴定任务列表数据格式异常:', data);\n        }\n      } else {\n        // eslint-disable-next-line no-console\n        console.warn('鉴定任务列表请求失败:', result);\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error('获取鉴定任务列表失败:', error);\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  /**\n   * 将 aiResult 转换为结果文本\n   */\n  getResultText(aiResult: number): string {\n    const resultMap: { [key: number]: string } = {\n      1: '符合正品特征',\n      2: '疑似假货',\n      3: '无法鉴定',\n    };\n    return resultMap[aiResult] || '未知';\n  }\n\n    /**\n   * 清空列表数据\n   */\n    @action\n  clearCardList() {\n    this.cardList = [];\n    this.pageNo = 1;\n    this.hasMore = true;\n  }\n}\n\nexport default new MyModel();\n","import { observable } from 'mobx';\n\nclass PhotoModel {\n  // 存储拍摄的照片数据\n  @observable photos: { [key: number]: string } = {};\n\n  /**\n   * 设置照片\n   * @param step 拍摄步骤 (1-4)\n   * @param photoUrl 照片URL\n   */\n  setPhoto(step: number, photoUrl: string) {\n    this.photos[step] = photoUrl;\n  }\n\n  /**\n   * 获取照片\n   * @param step 拍摄步骤 (1-4)\n   * @returns 照片URL\n   */\n  getPhoto(step: number): string | undefined {\n    return this.photos[step];\n  }\n\n  /**\n   * 获取所有照片\n   * @returns 所有照片对象\n   */\n  getAllPhotos(): { [key: number]: string } {\n    return { ...this.photos };\n  }\n\n  /**\n   * 清除所有照片\n   */\n  clearPhotos() {\n    this.photos = {};\n  }\n\n  /**\n   * 清除指定步骤的照片\n   * @param step 拍摄步骤 (1-4)\n   */\n  clearPhoto(step: number) {\n    delete this.photos[step];\n  }\n\n  /**\n   * 检查是否所有必需照片都已拍摄\n   * @returns 是否完成所有拍摄\n   */\n  isAllPhotosComplete(): boolean {\n    return !!(this.photos[1] && this.photos[2] && this.photos[3] && this.photos[4]);\n  }\n\n  /**\n   * 获取已拍摄照片数量\n   * @returns 已拍摄照片数量\n   */\n  getPhotoCount(): number {\n    return Object.keys(this.photos).length;\n  }\n\n  /**\n   * 获取拍摄步骤的描述\n   * @param step 拍摄步骤 (1-4)\n   * @returns 步骤描述\n   */\n  getStepDescription(step: number): string {\n    const descriptions = {\n      1: '小卡正面',\n      2: '小卡背面',\n      3: '背面文字logo',\n      4: '小卡像素点',\n    };\n    return descriptions[step] || '';\n  }\n\n  /**\n   * 获取拍摄步骤的标签\n   * @param step 拍摄步骤 (1-4)\n   * @returns 步骤标签\n   */\n  getStepLabel(step: number): string {\n    const labels = {\n      1: '小卡正面',\n      2: '小卡背面',\n      3: '背面文字logo',\n      4: '小卡像素点',\n    };\n    return labels[step] || '';\n  }\n}\n\nexport default new PhotoModel();\n","export const wxLoginAction = 'user.wechat.login';\nexport const identifyTaskListAction = 'identify.task.list';\nexport const uploadFileAction = 'upload.image';\nexport const createAppraisalAction = 'appraisal.create';\n","import Taro from '@tarojs/taro';\nimport HttpCustom from '@/common/http';\nimport appConst from '@/constants/app.const';\nimport { identifyTaskListAction, uploadFileAction, createAppraisalAction } from '../actions';\n\nexport interface ReqStatsInfo {\n  id: string;\n}\n\nexport interface ResStatsInfo {\n  catHouseNum: number;\n  userNum: number;\n  tnrCatNum: number;\n  hospitalNum: number;\n}\n\n/**\n * 鉴定任务项\n */\nexport interface IdentifyTaskItem {\n  id: number;\n  userId: number;\n  templateId: number;\n  aiResult: number;\n  aiReason: string;\n  firstImageUrl: string;\n  createTime: number;\n  updateTime: number;\n  userPic: string;\n  nickName: string;\n}\n\n/**\n * 查询鉴定任务列表请求参数\n */\nexport interface ReqIdentifyTaskList {\n  pageNo: number;\n  pageSize: number;\n}\n\n/**\n * 查询鉴定任务列表响应数据\n */\nexport interface ResIdentifyTaskList {\n  total: number;\n  pageCount: number;\n  pageNo: number;\n  pageSize: number;\n  data: IdentifyTaskItem[];\n}\n\n/**\n * 查询鉴定任务列表响应\n */\nexport interface IdentifyTaskListResponse {\n  code: number;\n  msg: string;\n  data: ResIdentifyTaskList;\n}\n\n/**\n * 查询所有鉴定任务\n * @param params 请求参数\n * @param config 请求配置（可选）\n * @returns Promise<IdentifyTaskListResponse>\n */\nexport function requestIdentifyTaskListApi(\n  params: ReqIdentifyTaskList,\n  config?: { includeToken?: boolean; timeout?: number },\n) {\n  // 从 params 中提取 includeToken（如果存在），避免传入请求体\n  const {\n    includeToken,\n    ...requestParams\n  } = params as ReqIdentifyTaskList & { includeToken?: boolean };\n\n  // 合并 config，优先使用 params 中的 includeToken，然后是 config 中的\n  const finalConfig = {\n    includeToken: includeToken ?? config?.includeToken,\n    timeout: config?.timeout,\n  };\n\n  return HttpCustom.post<IdentifyTaskListResponse>(\n    identifyTaskListAction,\n    requestParams,\n    finalConfig,\n  );\n}\n\n/**\n * 上传文件响应数据\n */\nexport interface UploadFileResponse {\n  /**\n   * 文件URL\n   */\n  url?: string;\n  /**\n   * 文件ID\n   */\n  fileId?: string;\n  [key: string]: unknown;\n}\n\n/**\n * 上传文件请求参数\n */\nexport interface ReqUploadFile {\n  /**\n   * 文件路径（本地临时文件路径）\n   */\n  filePath: string;\n  /**\n   * 额外的请求数据（可选）\n   */\n  extraData?: Record<string, unknown>;\n}\n\n/**\n * 上传文件接口（base64 格式上传）\n * @param params 上传参数\n * @returns Promise<UploadFileResponse>\n */\nexport function requestUploadFileApi(params: ReqUploadFile): Promise<UploadFileResponse> {\n  return new Promise((resolve, reject) => {\n    const { filePath, extraData = {} } = params;\n\n    // 读取文件为 base64\n    const fileManager = Taro.getFileSystemManager();\n    fileManager.readFile({\n      filePath,\n      encoding: 'base64',\n      success: (readRes) => {\n        // 读取文件成功，构建请求体\n        const requestBody = {\n          action: uploadFileAction,\n          file: readRes.data as string, // base64 字符串\n          ...extraData, // 额外的数据\n        };\n\n        // 使用 POST 请求发送 base64 文件\n        Taro.request({\n          url: appConst.BASE_API,\n          method: 'POST',\n          header: {\n            'Content-Type': 'application/json',\n          },\n          data: requestBody,\n          success: (res) => {\n            try {\n              // 处理响应数据\n              let response;\n              if (typeof res.data === 'string') {\n                response = JSON.parse(res.data);\n              } else {\n                response = res.data;\n              }\n\n              if (response.code === 0) {\n                resolve(response.data || { url: response.data?.url });\n              } else {\n                reject(new Error(response.message || '上传失败'));\n              }\n            } catch {\n              reject(new Error('服务器返回数据格式错误'));\n            }\n          },\n          fail: (err) => {\n            reject(new Error(err.errMsg || '上传失败'));\n          },\n        });\n      },\n      fail: (err) => {\n        reject(new Error(`读取文件失败: ${err.errMsg || '未知错误'}`));\n      },\n    });\n  });\n}\n\n/**\n * 创建鉴定请求参数\n */\nexport interface ReqCreateAppraisal {\n  /**\n   * 卡片图片URL数组\n   */\n  card_image: string[];\n}\n\n/**\n * 创建鉴定响应数据\n */\nexport interface ResCreateAppraisal {\n  /**\n   * 鉴定任务ID\n   */\n  taskId?: string;\n  /**\n   * 鉴定结果\n   */\n  result?: number;\n  [key: string]: unknown;\n}\n\n/**\n * 创建鉴定响应\n */\nexport interface CreateAppraisalResponse {\n  code: number;\n  message: string;\n  data: ResCreateAppraisal;\n}\n\n/**\n * 创建鉴定接口\n * @param params 请求参数\n * @returns Promise<CreateAppraisalResponse>\n */\nexport function requestCreateAppraisalApi(params: ReqCreateAppraisal) {\n  return HttpCustom.post<CreateAppraisalResponse>(\n    createAppraisalAction,\n    params,\n    {\n      timeout: 60000, // 设置超时时间为 1 分钟（60秒 = 60000毫秒）\n    },\n  );\n}\n","import { ILoginResult } from '@hb/taro-fusion-components';\nimport Http from '@/common/http';\nimport { wxLoginAction } from '../actions';\n\n/**\n * 微信登录请求参数\n */\nexport interface WxLoginParams {\n  /**\n   * 微信登录凭证 code\n   */\n  code: string;\n  /**\n   * 用户信息（可选，getUserProfile 已废弃，后端可通过 openId 获取用户信息）\n   */\n  userInfo?: {\n    nickName?: string;\n    avatarUrl?: string;\n    gender?: number;\n    city?: string;\n    province?: string;\n    country?: string;\n  };\n}\n\n/**\n * 微信登录响应数据\n */\nexport interface WxLoginResponse extends ILoginResult {\n  /**\n   * 用户 openId\n   */\n  openId?: string;\n  /**\n   * 用户 unionId\n   */\n  unionId?: string;\n  /**\n   * 用户信息\n   */\n  userInfo?: {\n    nickname?: string;\n    avatar?: string;\n    gender?: number;\n    city?: string;\n    province?: string;\n    country?: string;\n  };\n}\n\n/**\n * 微信登录接口（使用内部 action）\n * @param params 登录参数\n * @returns Promise<ResponseData<WxLoginResponse>>\n */\nexport function requestWxLoginApi(params: WxLoginParams) {\n  return Http.post<WxLoginResponse>(wxLoginAction, params);\n}\n\n/**\n * 微信登录接口（调用外部接口）\n * @param params 登录参数\n * @returns Promise<ResponseData<WxLoginResponse>>\n */\nexport function requestWxLoginMockApi(params: WxLoginParams) {\n  return Http.post<WxLoginResponse>(wxLoginAction, params);\n}\n","import React from 'react';\nimport Taro from '@tarojs/taro';\nimport { Image } from '@tarojs/components';\nimport HttpDefault from '@/common/http';\n\n// Http: 复用项目内封装\nexport const Http = HttpDefault;\n\n// Storage: 基于 Taro 同步存储\nexport class Storage {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static setItemSync(key: string, value: any, _expireDays?: number) {\n    try { Taro.setStorageSync(key, value); } catch {}\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static getItemSync(key: string): any {\n    try { return Taro.getStorageSync(key); } catch { return undefined; }\n  }\n  static removeItemSysnc(key: string) {\n    try { Taro.removeStorageSync(key); } catch {}\n  }\n}\n\n// EventBus 和 Ubt 已移除实际使用，保留空导出以兼容类型\n// 如果需要，可以使用空对象替代\nexport const EventBus = null as any;\nexport const Ubt = null as any;\n\n// Native 最小实现，覆盖项目中使用到的方法/属性\nexport class Native {\n  static IS_MPAAS = false;\n  static IS_WEAPP = true;\n  static IS_ALIPAY_PLATFORM = false;\n  static systemInfo = (() => {\n    try { return Taro.getSystemInfoSync(); } catch { return {}; }\n  })() as Record<string, unknown>;\n  static get isAndroid() {\n    try { return /android/i.test(Taro.getSystemInfoSync().system || ''); } catch { return false; }\n  }\n\n  static config(_cfg: Record<string, unknown>) {}\n  static setCodeEnv(_env: unknown) {}\n\n  static appendQueryToUrl(url: string, params?: Record<string, unknown>) {\n    if (!params || Object.keys(params).length === 0) return url;\n    const qs = Object.entries(params)\n      .map(([k, v]) => `${encodeURIComponent(k)}=${encodeURIComponent(String(v))}`)\n      .join('&');\n    return url.includes('?') ? `${url}&${qs}` : `${url}?${qs}`;\n  }\n\n  static isTabbarPage(url: string) {\n    // 简化：根据路径是否在 tabBar 列表判断，默认 false\n    return false;\n  }\n\n  static reLaunch(options: { url: string }) { return Taro.reLaunch(options); }\n  static switchTab(options: { url: string }) { return Taro.switchTab(options); }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static navigateTo(options: { url: string } & Record<string, any>) { return Taro.navigateTo(options); }\n  static navigateBack() { return Taro.navigateBack(); }\n  static hideHomeButton() { try { Taro.hideHomeButton?.(); } catch {} }\n  static showToast(title: string) { return Taro.showToast({ title, icon: 'none' }); }\n  static setClipboardData(data: string) { return Taro.setClipboardData({ data }); }\n\n  static getUrlParams(options?: { url?: string }) {\n    const target = options?.url || (Taro?.getCurrentInstance?.()?.router?.path as string) || '';\n    const queryStr = target.split('?')[1] || '';\n    return queryStr.split('&').filter(Boolean).reduce<Record<string, string>>((acc, kv) => {\n      const [k, v] = kv.split('=');\n      acc[decodeURIComponent(k)] = decodeURIComponent(v || '');\n      return acc;\n    }, {});\n  }\n\n  static getShareAppOptions() { return {}; }\n\n  // mPaaS 相关占位\n  static async getAppLoginResult() { return Promise.resolve({}); }\n\n  // 定位：最小实现\n  static async getLocation(_opts?: unknown): Promise<{ latitude: string; longitude: string; }>\n  {\n    try {\n      const res = await Taro.getLocation({ type: 'wgs84' });\n      return { latitude: String(res.latitude), longitude: String(res.longitude) };\n    } catch {\n      return { latitude: '0', longitude: '0' };\n    }\n  }\n\n  static getPagePath(options?: { query?: boolean }) {\n    const route = Taro.getCurrentPages()?.slice(-1)[0]?.route || '';\n    if (!options?.query) return `/${route}`;\n    const params = this.getUrlParams();\n    const qs = Object.keys(params).length ? `?${Object.entries(params).map(([k,v]) => `${k}=${v}`).join('&')}` : '';\n    return `/${route}${qs}`;\n  }\n\n  // mPaaS 相关占位\n  static jumpToApp(_url: string, _opts?: Record<string, unknown>) { return Promise.resolve(); }\n}\n\n// UI 占位组件\nexport const PageSkeleton = Object.assign((props: React.PropsWithChildren<{ customProps?: Record<string, unknown> }>) => \n  React.createElement(React.Fragment, null, props.children)\n, {\n  setGlobalOptions: (_opts: Record<string, unknown>) => {},\n});\n\nexport const FusionScrollView: React.FC<React.PropsWithChildren<Record<string, unknown>>> = (props) => \n  React.createElement(React.Fragment, null, props.children);\nexport const PageFloatLayout: React.FC<React.PropsWithChildren<Record<string, unknown>>> = (props) => \n  React.createElement(React.Fragment, null, props.children);\nexport const SafeAreaView: React.FC<React.PropsWithChildren<Record<string, unknown>>> = (props) => \n  React.createElement(React.Fragment, null, props.children);\n\n// PageHeader 组件\nexport const PageHeader: React.FC<{ title?: string; [key: string]: unknown }> = (props) => \n  React.createElement(React.Fragment, null);\n\n// OssImage 组件（OSS 图片）\nexport const OssImage: React.FC<{\n  src?: string;\n  className?: string;\n  width?: number | string;\n  height?: number | string;\n  [key: string]: unknown;\n}> = (props) => {\n  const { src, className, width, height, ...rest } = props;\n  return React.createElement(Image, {\n    src,\n    className,\n    style: width || height ? { width, height } : undefined,\n    ...rest,\n  });\n};\n\n// Poster 组件（海报生成）\nexport class Poster extends React.Component<{\n  palette?: unknown;\n  onReady?: (path: string) => void;\n  [key: string]: unknown;\n}> {\n  componentDidMount() {\n    // 最小实现：不生成海报，只返回空路径\n    if (this.props.onReady) {\n      // 延迟调用，模拟异步生成\n      setTimeout(() => {\n        this.props.onReady?.('');\n      }, 100);\n    }\n  }\n  render() {\n    return React.createElement(React.Fragment, null);\n  }\n}\n\n// 类型占位\nexport type ICodeEnv = 'dev' | 'fat' | 'uat' | 'pro' | string;\nexport interface ILoginResult {\n  token?: string;\n  ticket?: string;\n  guid?: string;\n  // 允许扩展\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  [key: string]: any;\n}\n\nexport default Native;\n","import { Native } from '@hb/taro-fusion-components';\nimport Env from '@/common/env';\nimport { IJumpToAnyUrlOptions } from '@/services/types';\n\n/**\n * 跳转到任意页面（小程序、Native、H5 等）\n * @param url\n * @param options IJumpToAnyUrlOptions\n */\nexport function jumpToAnyUrl(\n  url: string,\n  options: IJumpToAnyUrlOptions = {},\n) {\n  const {\n    params = {},\n    recycle,\n    closeTinyApp,\n    useAppWebView,\n    title,\n    reLaunch,\n  } = options;\n\n  const targetUrl = Native.appendQueryToUrl(url, params);\n\n  // 以 /pages/ 开头，则直接跳转\n  if (/^\\/pages\\//.test(url)) {\n    if (reLaunch) {\n      Native.reLaunch({\n        url: targetUrl,\n      });\n    } else {\n      if (Native.isTabbarPage(url)) {\n        Native.switchTab({\n          url,\n        });\n      } else {\n        Native.navigateTo({\n          url: targetUrl,\n          recycle,\n        });\n      }\n    }\n  } else if (/https?:\\/\\//.test(url)) {\n    if (Native.IS_MPAAS && useAppWebView) {\n      Native.jumpToApp(url, {\n        params,\n        closeTinyApp,\n      });\n    } else {\n      // 使用小程序的webview打开\n      jumpToWebView(targetUrl, title);\n    }\n  } else {\n    // 其他类型的地址仅mpaas可以打开\n    if (Native.IS_MPAAS) {\n      Native.jumpToApp(url, {\n        params,\n        closeTinyApp,\n      });\n    } else {\n      console.log('url format is invalid: ', targetUrl);\n      Native.showToast(`url format is invalid for ${Env.appEnv}`);\n    }\n  }\n}\n\n/**\n * 在小程序的 Webview 中打开一个网页\n * @param url https 地址，需在小程序后台配置安全域名。\n * @param title 页面标题\n */\nexport function jumpToWebView(url: string, title?: string) {\n  if (/^https:\\/\\//.test(url)) {\n    Native.navigateTo({\n      url: '/pages/webview/webview',\n      params: {\n        url,\n        title,\n      },\n    });\n  } else {\n    throw new Error('the url is invalid');\n  }\n}\n\n/**\n * 跳转到首页\n */\nexport function jumpToIndex() {\n  Native.switchTab({\n    url: '/pages/index/index',\n  });\n}\n"],"names":[],"sourceRoot":""}