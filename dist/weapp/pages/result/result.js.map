{"version":3,"file":"pages/result/result.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://AppStarCardWXSS/./src/pages/result/result.tsx?c66a","webpack://AppStarCardWXSS/._src_pages_result_result.tsx"],"sourcesContent":["import _classCallCheck from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _defineProperty from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nvar _class;\nimport React, { Component, Fragment } from 'react';\nimport { observer } from 'mobx-react';\nimport { View, Image, Text } from '@tarojs/components';\nimport { PageSkeleton, Native, Poster, SafeAreaView, PageHeader } from '@hb/taro-fusion-components';\nimport Taro from '@tarojs/taro';\nimport posterConfig from './data/result-poster.json';\nimport './result.scss';\nimport { appraisalPassed, checkSuccess, identifyText_icon } from '@/assets/index';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Result = observer(_class = /*#__PURE__*/function (_Component) {\n  function Result() {\n    var _this;\n    _classCallCheck(this, Result);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, Result, [].concat(args));\n    _defineProperty(_this, \"state\", {\n      posterUrl: '',\n      generating: false\n    });\n    // 返回上一页\n    _defineProperty(_this, \"handleBack\", function () {\n      Taro.navigateBack();\n    });\n    // 分享功能\n    _defineProperty(_this, \"handleShare\", function () {\n      Taro.showActionSheet({\n        itemList: ['保存鉴别证书', '分享给好友'],\n        success: function success(res) {\n          if (res.tapIndex === 0) {\n            _this.handleSaveImage();\n          } else if (res.tapIndex === 1) {\n            _this.handleShareToFriend();\n          }\n        }\n      });\n    });\n    // 长按生成图片\n    _defineProperty(_this, \"handleLongPress\", function () {\n      _this.handleSaveImage();\n    });\n    // 生成并保存图片\n    _defineProperty(_this, \"handleSaveImage\", function () {\n      try {\n        _this.setState({\n          generating: true\n        });\n        Taro.showLoading({\n          title: '正在生成证书...'\n        });\n\n        // 使用 Poster 组件生成图片\n        // posterUrl 会在 onReady 回调中设置\n      } catch (_unused) {\n        _this.handleGenerateError();\n      }\n    });\n    // 处理生成错误\n    _defineProperty(_this, \"handleGenerateError\", function () {\n      Taro.hideLoading();\n      Taro.showToast({\n        title: '生成失败，请重试',\n        icon: 'none'\n      });\n      _this.setState({\n        generating: false\n      });\n    });\n    // Poster 生成完成回调\n    _defineProperty(_this, \"handlePosterReady\", function (path) {\n      _this.setState({\n        posterUrl: path,\n        generating: false\n      });\n      Taro.hideLoading();\n\n      // 先预览图片\n      Taro.previewImage({\n        urls: [path],\n        current: path\n      });\n\n      // 询问是否保存\n      setTimeout(function () {\n        Taro.showModal({\n          title: '保存鉴别证书',\n          content: '是否保存鉴别证书到相册？',\n          success: function success(res) {\n            if (res.confirm) {\n              _this.saveToAlbum(path);\n            }\n          }\n        });\n      }, 1000);\n    });\n    // 保存到相册\n    _defineProperty(_this, \"saveToAlbum\", function (filePath) {\n      Taro.saveImageToPhotosAlbum({\n        filePath: filePath,\n        success: function success() {\n          Taro.showToast({\n            title: '已保存到相册',\n            icon: 'success'\n          });\n        },\n        fail: function fail(err) {\n          // 处理权限问题\n          if (err.errMsg.includes('auth')) {\n            Taro.showModal({\n              title: '需要授权',\n              content: '需要您授权保存图片到相册',\n              success: function success(res) {\n                if (res.confirm) {\n                  Taro.openSetting();\n                }\n              }\n            });\n          } else {\n            Taro.showToast({\n              title: '保存失败',\n              icon: 'none'\n            });\n          }\n        }\n      });\n    });\n    // 分享给好友\n    _defineProperty(_this, \"handleShareToFriend\", function () {\n      if (_this.state.posterUrl) {\n        Taro.showShareImageMenu({\n          path: _this.state.posterUrl\n        });\n      } else {\n        Taro.showToast({\n          title: '请先生成证书',\n          icon: 'none'\n        });\n      }\n    });\n    return _this;\n  }\n  _inherits(Result, _Component);\n  return _createClass(Result, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      Native.hideHomeButton();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var generating = this.state.generating;\n      return /*#__PURE__*/_jsxs(PageSkeleton, {\n        className: \"page-result-view\",\n        children: [/*#__PURE__*/_jsx(Fragment, {\n          children: /*#__PURE__*/_jsx(PageHeader, {\n            className: \"custom-page-header\",\n            title: \"\\u9274\\u522B\\u7ED3\\u679C\",\n            backIconColor: \"white\",\n            bgColor: \"#020202\",\n            titleColor: \"#fff\"\n          })\n        }, \"header\"), /*#__PURE__*/_jsxs(Fragment, {\n          children: [/*#__PURE__*/_jsxs(View, {\n            className: \"content-card\",\n            onLongPress: this.handleLongPress,\n            children: [/*#__PURE__*/_jsxs(View, {\n              className: \"title-section\",\n              children: [/*#__PURE__*/_jsxs(View, {\n                className: \"title-header\",\n                children: [/*#__PURE__*/_jsx(View, {\n                  className: \"line\"\n                }), /*#__PURE__*/_jsx(Text, {\n                  className: \"title-text\",\n                  children: \"\\u5728\\u7EBF\\u9274\\u5B9A\\u8BC1\\u660E\"\n                }), /*#__PURE__*/_jsx(View, {\n                  className: \"line\"\n                })]\n              }), /*#__PURE__*/_jsx(View, {\n                className: \"result-status\",\n                children: \"\\u7B26\\u5408\\u6B63\\u54C1\\u7279\\u5F81\"\n              }), /*#__PURE__*/_jsx(View, {\n                className: \"result-tip\",\n                children: \"\\u9274\\u522B\\u7ED3\\u679C\\u6839\\u636E\\u7528\\u6237\\u4FE1\\u606F\\u5F97\\u51FA\"\n              })]\n            }), /*#__PURE__*/_jsx(View, {\n              className: \"img-section\",\n              children: /*#__PURE__*/_jsxs(View, {\n                className: \"product-image-container\",\n                children: [/*#__PURE__*/_jsx(Image, {\n                  src: \"https://img1.baidu.com/it/u=293340820,2978436854&fm=253&app=138&f=JPEG?w=683&h=856\",\n                  className: \"product-image\",\n                  mode: \"aspectFill\"\n                }), /*#__PURE__*/_jsx(Image, {\n                  src: appraisalPassed,\n                  className: \"verify-badge\"\n                })]\n              })\n            }), /*#__PURE__*/_jsxs(View, {\n              className: \"appraiser-info\",\n              children: [/*#__PURE__*/_jsx(Image, {\n                className: \"appraiser-avatar\",\n                src: \"https://img1.baidu.com/it/u=293340820,2978436854&fm=253&app=138&f=JPEG?w=683&h=856\",\n                mode: \"aspectFill\"\n              }), /*#__PURE__*/_jsxs(View, {\n                children: [/*#__PURE__*/_jsxs(View, {\n                  className: \"appraiser-badge\",\n                  children: [/*#__PURE__*/_jsx(Image, {\n                    src: identifyText_icon,\n                    className: \"verified-icon\"\n                  }), /*#__PURE__*/_jsx(Text, {\n                    className: \"badge-text\",\n                    children: \"\\u661F\\u5361\\u9274\\u5B9A\\u5E08\"\n                  })]\n                }), /*#__PURE__*/_jsx(View, {\n                  className: \"appraiser-name\",\n                  children: \"\\u6930\\u6930\"\n                })]\n              })]\n            }), /*#__PURE__*/_jsx(View, {\n              className: \"description\",\n              children: \"\\u201C\\u5C0F\\u5361\\u7EC6\\u8282\\u5DE5\\u827A\\u7B26\\u5408\\u6B63\\u54C1\\u7279\\u5F81\\uFF0C\\u9274\\u522B\\u901A\\u8FC7\\uFF0C\\u7EB9\\u8DEF\\u6BD4\\u4F8B\\u5207\\u89D2\\u6CA1\\u95EE\\u9898\\u201D\"\n            }), /*#__PURE__*/_jsxs(View, {\n              className: \"analysis-header\",\n              children: [/*#__PURE__*/_jsx(Text, {\n                className: \"analysis-title\",\n                children: \"\\u9274\\u522B\\u90E8\\u4F4D\\u5206\\u6790\"\n              }), /*#__PURE__*/_jsxs(View, {\n                className: \"header-right\",\n                children: [/*#__PURE__*/_jsx(Text, {\n                  className: \"analysis-count\",\n                  children: \"5\\u9879\\u5168\\u901A\\u8FC7\"\n                }), /*#__PURE__*/_jsx(Image, {\n                  src: checkSuccess,\n                  className: \"check-success-icon\"\n                })]\n              })]\n            }), /*#__PURE__*/_jsxs(View, {\n              className: \"check-list\",\n              children: [/*#__PURE__*/_jsxs(View, {\n                className: \"check-item\",\n                children: [/*#__PURE__*/_jsx(Text, {\n                  className: \"check-label\",\n                  children: \"\\u5C0F\\u5361\\u6B63\\u9762\"\n                }), /*#__PURE__*/_jsx(View, {\n                  className: \"divider-line\"\n                }), /*#__PURE__*/_jsx(Image, {\n                  src: checkSuccess,\n                  className: \"check-success-icon\"\n                })]\n              }), /*#__PURE__*/_jsxs(View, {\n                className: \"check-item\",\n                children: [/*#__PURE__*/_jsx(Text, {\n                  className: \"check-label\",\n                  children: \"\\u5C0F\\u5361\\u80CC\\u9762\"\n                }), /*#__PURE__*/_jsx(View, {\n                  className: \"divider-line\"\n                }), /*#__PURE__*/_jsx(Image, {\n                  src: checkSuccess,\n                  className: \"check-success-icon\"\n                })]\n              }), /*#__PURE__*/_jsxs(View, {\n                className: \"check-item\",\n                children: [/*#__PURE__*/_jsx(Text, {\n                  className: \"check-label\",\n                  children: \"\\u5C0F\\u5361\\u6B63\\u9762\\u7EB9\\u8DEF\\u5BF9\\u5149\"\n                }), /*#__PURE__*/_jsx(View, {\n                  className: \"divider-line\"\n                }), /*#__PURE__*/_jsx(Image, {\n                  src: checkSuccess,\n                  className: \"check-success-icon\"\n                })]\n              }), /*#__PURE__*/_jsxs(View, {\n                className: \"check-item\",\n                children: [/*#__PURE__*/_jsx(Text, {\n                  className: \"check-label\",\n                  children: \"\\u5C0F\\u5361\\u80CC\\u9762\\u6587\\u5B57logo\"\n                }), /*#__PURE__*/_jsx(View, {\n                  className: \"divider-line\"\n                }), /*#__PURE__*/_jsx(Image, {\n                  src: checkSuccess,\n                  className: \"check-success-icon\"\n                })]\n              }), /*#__PURE__*/_jsxs(View, {\n                className: \"check-item\",\n                children: [/*#__PURE__*/_jsx(Text, {\n                  className: \"check-label\",\n                  children: \"\\u5C0F\\u5361\\u50CF\\u7D20\\u70B9\"\n                }), /*#__PURE__*/_jsx(View, {\n                  className: \"divider-line\"\n                }), /*#__PURE__*/_jsx(Image, {\n                  src: checkSuccess,\n                  className: \"check-success-icon\"\n                })]\n              })]\n            }), /*#__PURE__*/_jsxs(View, {\n              className: \"info-section\",\n              children: [/*#__PURE__*/_jsxs(View, {\n                className: \"info-row\",\n                children: [/*#__PURE__*/_jsx(Text, {\n                  className: \"info-label\",\n                  children: \"\\u9274\\u522BID\\uFF1A\"\n                }), /*#__PURE__*/_jsx(Text, {\n                  className: \"info-value\",\n                  children: \"73r9273894377789\"\n                })]\n              }), /*#__PURE__*/_jsxs(View, {\n                className: \"info-row\",\n                children: [/*#__PURE__*/_jsx(Text, {\n                  className: \"info-label\",\n                  children: \"\\u9274\\u522B\\u65F6\\u95F4\\uFF1A\"\n                }), /*#__PURE__*/_jsx(Text, {\n                  className: \"info-value\",\n                  children: \"2025-10-05\"\n                }), /*#__PURE__*/_jsx(Text, {\n                  className: \"info-value\",\n                  children: \"13:30\"\n                })]\n              })]\n            })]\n          }), generating && /*#__PURE__*/_jsx(View, {\n            style: {\n              position: 'fixed',\n              left: '-9999px',\n              top: '-9999px'\n            },\n            children: /*#__PURE__*/_jsx(Poster, {\n              palette: posterConfig.data,\n              onReady: this.handlePosterReady\n            })\n          })]\n        }, \"scroll\"), /*#__PURE__*/_jsx(Fragment, {\n          children: /*#__PURE__*/_jsx(Text, {\n            className: \"footer-tip\",\n            children: \"\\u5728\\u7EBF\\u9274\\u5B9A\\u7ED3\\u679C\\u4EC5\\u4F9B\\u53C2\\u8003\\uFF0C\\u5177\\u4F53\\u60C5\\u51B5\\u4EE5\\u5B9E\\u7269\\u4E3A\\u51C6\"\n          })\n        }, 'footer'), /*#__PURE__*/_jsx(SafeAreaView, {\n          safeAreaInsetBottom: true\n        })]\n      });\n    }\n  }]);\n}(Component)) || _class;\nexport { Result as default };","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/result/result!./result.tsx\"\nvar config = {\"navigationBarTitleText\":\"鉴定结果\",\"navigationStyle\":\"custom\"};\n\n\n\nvar taroOption = createPageConfig(component, 'pages/result/result', {root:{cn:[]}}, config || {})\nif (component && component.behaviors) {\n  taroOption.behaviors = (taroOption.behaviors || []).concat(component.behaviors)\n}\nvar inst = Page(taroOption)\n\n\n\nexport default component\n"],"names":[],"sourceRoot":""}