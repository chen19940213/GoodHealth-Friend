{"version":3,"file":"pages/profile/profile.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://AppStarCardWXSS/./src/pages/profile/profile.tsx?4d72","webpack://AppStarCardWXSS/._src_pages_profile_profile.tsx"],"sourcesContent":["import _objectSpread from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _toConsumableArray from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _defineProperty from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nvar _class;\nimport React, { Component, Fragment } from 'react';\nimport { View, Text, Input } from '@tarojs/components';\nimport Taro from '@tarojs/taro';\nimport { OssImage, Native } from '@hb/taro-fusion-components';\nimport { observer } from 'mobx-react';\nimport myModel from '@/models/myModel';\nimport { defaultUserAvatar } from '@/constants/page.const';\nimport PageSkeleton from '@/components/PageSkeleton';\nimport './profile.scss';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Profile = observer(_class = /*#__PURE__*/function (_Component) {\n  function Profile(props) {\n    var _this;\n    _classCallCheck(this, Profile);\n    _this = _callSuper(this, Profile, [props]);\n    _defineProperty(_this, \"setCapsuleInfo\", function () {\n      try {\n        var menuButton = Taro.getMenuButtonBoundingClientRect();\n        if (menuButton) {\n          _this.setState({\n            capsuleTop: menuButton.top || 0,\n            capsuleHeight: menuButton.height || 0\n          });\n        }\n      } catch (error) {\n        console.error('Failed to get capsule info:', error);\n      }\n    });\n    _defineProperty(_this, \"handleBack\", function () {\n      Taro.navigateBack();\n    });\n    _defineProperty(_this, \"handleAvatarClick\", function () {\n      // TODO: 实现头像选择\n      Taro.showToast({\n        title: '头像选择功能待实现',\n        icon: 'none'\n      });\n    });\n    _defineProperty(_this, \"handleNicknameChange\", function (e) {\n      _this.setState({\n        nickname: e.detail.value\n      });\n    });\n    _defineProperty(_this, \"handleGenderChange\", function (gender) {\n      _this.setState({\n        gender: gender\n      });\n    });\n    _defineProperty(_this, \"handlePersonaToggle\", function (persona) {\n      _this.setState(function (prevState) {\n        var currentPersona = _toConsumableArray(prevState.persona);\n        var index = currentPersona.indexOf(persona);\n        if (index > -1) {\n          currentPersona.splice(index, 1);\n        } else {\n          currentPersona.push(persona);\n        }\n        return {\n          persona: currentPersona\n        };\n      });\n    });\n    _defineProperty(_this, \"handleReasonChange\", function (e) {\n      _this.setState({\n        reason: e.detail.value\n      });\n    });\n    _defineProperty(_this, \"handleHeightChange\", function (e) {\n      _this.setState({\n        height: e.detail.value\n      });\n    });\n    _defineProperty(_this, \"handleWeightChange\", function (e) {\n      _this.setState({\n        weight: e.detail.value\n      });\n    });\n    _defineProperty(_this, \"handleSave\", function () {\n      var _this$state = _this.state,\n        nickname = _this$state.nickname,\n        gender = _this$state.gender,\n        persona = _this$state.persona,\n        reason = _this$state.reason,\n        height = _this$state.height,\n        weight = _this$state.weight;\n      myModel.setUserInfo(_objectSpread(_objectSpread({}, myModel.userInfo), {}, {\n        nickname: nickname,\n        gender: gender,\n        persona: persona,\n        reason: reason,\n        height: height,\n        weight: weight\n      }));\n      Taro.showToast({\n        title: '保存成功',\n        icon: 'success'\n      });\n      setTimeout(function () {\n        Taro.navigateBack();\n      }, 500);\n    });\n    _this.state = {\n      nickname: '昵称123',\n      gender: 'male',\n      persona: [],\n      reason: '',\n      height: '',\n      weight: '',\n      capsuleTop: 0,\n      capsuleHeight: 0\n    };\n    return _this;\n  }\n  _inherits(Profile, _Component);\n  return _createClass(Profile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setCapsuleInfo();\n    }\n  }, {\n    key: \"componentDidShow\",\n    value: function componentDidShow() {\n      Native.hideHomeButton();\n      // 初始化数据\n      var userInfo = myModel.userInfo;\n      this.setState({\n        nickname: (userInfo === null || userInfo === void 0 ? void 0 : userInfo.nickname) || '昵称123',\n        gender: (userInfo === null || userInfo === void 0 ? void 0 : userInfo.gender) || 'male',\n        persona: (userInfo === null || userInfo === void 0 ? void 0 : userInfo.persona) || [],\n        reason: (userInfo === null || userInfo === void 0 ? void 0 : userInfo.reason) || '',\n        height: (userInfo === null || userInfo === void 0 ? void 0 : userInfo.height) || '',\n        weight: (userInfo === null || userInfo === void 0 ? void 0 : userInfo.weight) || ''\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var avatar = myModel.userInfo.avatar;\n      var _this$state2 = this.state,\n        nickname = _this$state2.nickname,\n        gender = _this$state2.gender,\n        persona = _this$state2.persona,\n        reason = _this$state2.reason,\n        height = _this$state2.height,\n        weight = _this$state2.weight,\n        capsuleTop = _this$state2.capsuleTop,\n        capsuleHeight = _this$state2.capsuleHeight;\n      var personaOptions = ['辣妹', '中国女人', '女王'];\n      return /*#__PURE__*/_jsxs(PageSkeleton, {\n        className: \"page-profile-view\",\n        children: [/*#__PURE__*/_jsx(Fragment, {\n          children: /*#__PURE__*/_jsxs(View, {\n            className: \"nav-bar\",\n            style: {\n              top: capsuleTop ? \"\".concat(capsuleTop, \"px\") : '0',\n              height: capsuleHeight ? \"\".concat(capsuleHeight, \"px\") : 'auto'\n            },\n            children: [/*#__PURE__*/_jsx(View, {\n              className: \"nav-back\",\n              onClick: this.handleBack,\n              children: /*#__PURE__*/_jsx(Text, {\n                className: \"back-icon\",\n                children: \"\\u2039\"\n              })\n            }), /*#__PURE__*/_jsx(Text, {\n              className: \"nav-title\",\n              children: \"\\u4E2A\\u4EBA\\u8D44\\u6599\"\n            }), /*#__PURE__*/_jsxs(View, {\n              className: \"nav-actions\",\n              children: [/*#__PURE__*/_jsx(View, {\n                className: \"action-icon\",\n                children: /*#__PURE__*/_jsx(Text, {\n                  className: \"icon-text\",\n                  children: \"\\u22EF\"\n                })\n              }), /*#__PURE__*/_jsx(View, {\n                className: \"action-icon\",\n                children: /*#__PURE__*/_jsx(Text, {\n                  className: \"icon-text\",\n                  children: \"\\u2699\"\n                })\n              })]\n            })]\n          })\n        }, \"header\"), /*#__PURE__*/_jsxs(Fragment, {\n          children: [/*#__PURE__*/_jsx(View, {\n            className: \"avatar-section\",\n            children: /*#__PURE__*/_jsxs(View, {\n              className: \"avatar-container\",\n              onClick: this.handleAvatarClick,\n              children: [/*#__PURE__*/_jsx(OssImage, {\n                className: \"user-avatar\",\n                width: 160,\n                height: 160,\n                src: avatar || defaultUserAvatar\n              }), /*#__PURE__*/_jsx(View, {\n                className: \"avatar-edit-icon\",\n                children: /*#__PURE__*/_jsx(Text, {\n                  className: \"edit-icon\",\n                  children: \"\\u270F\\uFE0F\"\n                })\n              })]\n            })\n          }), /*#__PURE__*/_jsxs(View, {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxs(View, {\n              className: \"form-item\",\n              children: [/*#__PURE__*/_jsx(Text, {\n                className: \"item-label\",\n                children: \"\\u6635\\u79F0\"\n              }), /*#__PURE__*/_jsx(Input, {\n                className: \"form-input\",\n                value: nickname,\n                placeholder: \"\\u6635\\u79F0123\",\n                onInput: this.handleNicknameChange\n              })]\n            }), /*#__PURE__*/_jsxs(View, {\n              className: \"form-item\",\n              children: [/*#__PURE__*/_jsx(Text, {\n                className: \"item-label\",\n                children: \"\\u6027\\u522B\"\n              }), /*#__PURE__*/_jsxs(View, {\n                className: \"gender-buttons\",\n                children: [/*#__PURE__*/_jsxs(View, {\n                  className: \"gender-btn \".concat(gender === 'male' ? 'active' : ''),\n                  onClick: function onClick() {\n                    return _this2.handleGenderChange('male');\n                  },\n                  children: [/*#__PURE__*/_jsx(Text, {\n                    className: \"gender-icon\",\n                    children: \"\\u2642\"\n                  }), /*#__PURE__*/_jsx(Text, {\n                    className: \"gender-text\",\n                    children: \"\\u7537\"\n                  })]\n                }), /*#__PURE__*/_jsxs(View, {\n                  className: \"gender-btn \".concat(gender === 'female' ? 'active' : ''),\n                  onClick: function onClick() {\n                    return _this2.handleGenderChange('female');\n                  },\n                  children: [/*#__PURE__*/_jsx(Text, {\n                    className: \"gender-icon\",\n                    children: \"\\u2640\"\n                  }), /*#__PURE__*/_jsx(Text, {\n                    className: \"gender-text\",\n                    children: \"\\u5973\"\n                  })]\n                })]\n              })]\n            }), /*#__PURE__*/_jsxs(View, {\n              className: \"form-item\",\n              children: [/*#__PURE__*/_jsx(Text, {\n                className: \"item-label\",\n                children: \"\\u4EBA\\u8BBE\"\n              }), /*#__PURE__*/_jsx(View, {\n                className: \"persona-tags\",\n                children: personaOptions.map(function (option) {\n                  return /*#__PURE__*/_jsx(View, {\n                    className: \"persona-tag \".concat(persona.includes(option) ? 'active' : ''),\n                    onClick: function onClick() {\n                      return _this2.handlePersonaToggle(option);\n                    },\n                    children: /*#__PURE__*/_jsx(Text, {\n                      className: \"tag-text\",\n                      children: option\n                    })\n                  }, option);\n                })\n              })]\n            }), /*#__PURE__*/_jsxs(View, {\n              className: \"form-item\",\n              children: [/*#__PURE__*/_jsx(Text, {\n                className: \"item-label\",\n                children: \"\\u51CF\\u80A5\\u539F\\u56E0\"\n              }), /*#__PURE__*/_jsx(View, {\n                className: \"textarea-wrapper\",\n                children: /*#__PURE__*/_jsx(Input, {\n                  className: \"form-textarea\",\n                  value: reason,\n                  placeholder: \"\\u60F3\\u586B\\u54B1\\u5C31\\u586B\\uFF0C\\u4E0D\\u60F3\\u586B\\u5C31\\u7B97\\u4E86\\u6492\",\n                  onInput: this.handleReasonChange,\n                  type: \"text\"\n                })\n              })]\n            }), /*#__PURE__*/_jsxs(View, {\n              className: \"form-item\",\n              children: [/*#__PURE__*/_jsx(Text, {\n                className: \"item-label\",\n                children: \"\\u8EAB\\u9AD8\"\n              }), /*#__PURE__*/_jsx(Input, {\n                className: \"form-input\",\n                value: height,\n                placeholder: \"\\u53EF\\u586B\\u53EF\\u4E0D\\u586B\\u54E6~\",\n                onInput: this.handleHeightChange\n              })]\n            }), /*#__PURE__*/_jsxs(View, {\n              className: \"form-item\",\n              children: [/*#__PURE__*/_jsx(Text, {\n                className: \"item-label\",\n                children: \"\\u4F53\\u91CD\"\n              }), /*#__PURE__*/_jsx(Input, {\n                className: \"form-input\",\n                value: weight,\n                placeholder: \"\\u53EF\\u586B\\u53EF\\u4E0D\\u586B\\u54E6~\",\n                onInput: this.handleWeightChange\n              })]\n            })]\n          })]\n        }, \"body\")]\n      });\n    }\n  }]);\n}(Component)) || _class;\nexport { Profile as default };","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/profile/profile!./profile.tsx\"\nvar config = {\"navigationBarTitleText\":\"个人资料\",\"navigationBarBackgroundColor\":\"#FFFFFF\",\"navigationStyle\":\"custom\",\"enableShareAppMessage\":false};\n\n\n\nvar taroOption = createPageConfig(component, 'pages/profile/profile', {root:{cn:[]}}, config || {})\nif (component && component.behaviors) {\n  taroOption.behaviors = (taroOption.behaviors || []).concat(component.behaviors)\n}\nvar inst = Page(taroOption)\n\n\n\nexport default component\n"],"names":[],"sourceRoot":""}