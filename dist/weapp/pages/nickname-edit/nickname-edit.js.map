{"version":3,"file":"pages/nickname-edit/nickname-edit.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://AppStarCardWXSS/./src/pages/nickname-edit/nickname-edit.tsx?b8f3","webpack://AppStarCardWXSS/._src_pages_nickname-edit_nickname-edit.tsx"],"sourcesContent":["import _objectSpread from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _defineProperty from \"C:/Users/\\u9648\\u6587\\u5E94/Desktop/GoodHealth-Friend-main/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nvar _class;\nimport React, { Component } from 'react';\nimport { View, Input } from '@tarojs/components';\nimport { PageSkeleton, Native } from '@hb/taro-fusion-components';\nimport { observer } from 'mobx-react';\nimport myModel from '@/models/myModel';\nimport './nickname-edit.scss';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar NicknameEdit = observer(_class = /*#__PURE__*/function (_Component) {\n  function NicknameEdit() {\n    var _this;\n    _classCallCheck(this, NicknameEdit);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, NicknameEdit, [].concat(args));\n    _defineProperty(_this, \"state\", {\n      nickname: ''\n    });\n    _defineProperty(_this, \"handleBack\", function () {\n      Native.navigateBack();\n    });\n    _defineProperty(_this, \"handleNicknameChange\", function (e) {\n      var value = e.detail.value;\n      if (value.length <= 24) {\n        _this.setState({\n          nickname: value\n        });\n      }\n    });\n    _defineProperty(_this, \"handleComplete\", function () {\n      var nickname = _this.state.nickname;\n      if (nickname.length < 2) {\n        Native.showToast('昵称至少需要2个字');\n        return;\n      }\n      if (nickname.length > 24) {\n        Native.showToast('昵称最多24个字');\n        return;\n      }\n\n      // 更新用户信息\n      myModel.setUserInfo(_objectSpread(_objectSpread({}, myModel.userInfo), {}, {\n        nickname: nickname\n      }));\n      Native.showToast('修改成功');\n      setTimeout(function () {\n        _this.handleBack();\n      }, 500);\n    });\n    return _this;\n  }\n  _inherits(NicknameEdit, _Component);\n  return _createClass(NicknameEdit, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var nickname = myModel.userInfo.nickname;\n      this.setState({\n        nickname: nickname || ''\n      });\n    }\n  }, {\n    key: \"componentDidShow\",\n    value: function componentDidShow() {\n      Native.hideHomeButton();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var nickname = this.state.nickname;\n      var charCount = nickname.length;\n      var isValid = charCount >= 2 && charCount <= 24;\n      return /*#__PURE__*/_jsxs(PageSkeleton, {\n        className: \"page-nickname-edit-view\",\n        children: [/*#__PURE__*/_jsxs(View, {\n          className: \"nav-bar\",\n          children: [/*#__PURE__*/_jsx(View, {\n            className: \"back-btn\",\n            onClick: this.handleBack,\n            children: /*#__PURE__*/_jsx(View, {\n              className: \"back-icon\"\n            })\n          }), /*#__PURE__*/_jsx(View, {\n            className: \"nav-title\",\n            children: \"\\u6635\\u79F0\\u7F16\\u8F91\"\n          }), /*#__PURE__*/_jsx(View, {\n            className: \"complete-btn \".concat(isValid ? 'active' : ''),\n            onClick: isValid ? this.handleComplete : undefined,\n            children: \"\\u5B8C\\u6210\"\n          })]\n        }), /*#__PURE__*/_jsx(View, {\n          className: \"input-hint\",\n          children: \"\\u8BF7\\u8F93\\u51652\\u523024\\u4E2A\\u5B57\"\n        }), /*#__PURE__*/_jsxs(View, {\n          className: \"input-section\",\n          children: [/*#__PURE__*/_jsx(Input, {\n            className: \"nickname-input\",\n            value: nickname,\n            onInput: this.handleNicknameChange,\n            placeholder: \"\\u8BF7\\u8F93\\u5165\\u6635\\u79F0\",\n            maxlength: 24,\n            focus: true\n          }), /*#__PURE__*/_jsxs(View, {\n            className: \"char-count\",\n            children: [charCount, \"/24\"]\n          })]\n        })]\n      });\n    }\n  }]);\n}(Component)) || _class;\nexport { NicknameEdit as default };","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/nickname-edit/nickname-edit!./nickname-edit.tsx\"\nvar config = {\"navigationBarTitleText\":\"昵称编辑\",\"navigationStyle\":\"custom\"};\n\n\n\nvar taroOption = createPageConfig(component, 'pages/nickname-edit/nickname-edit', {root:{cn:[]}}, config || {})\nif (component && component.behaviors) {\n  taroOption.behaviors = (taroOption.behaviors || []).concat(component.behaviors)\n}\nvar inst = Page(taroOption)\n\n\n\nexport default component\n"],"names":[],"sourceRoot":""}