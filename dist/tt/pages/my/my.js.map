{"version":3,"file":"pages/my/my.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://AppStarCardWXSS/./src/pages/my/my.tsx?ea31","webpack://AppStarCardWXSS/./src/pages/my/my.tsx"],"sourcesContent":["import _toConsumableArray from \"/Users/chenwenying/Desktop/\\u661F\\u706B\\u5DE5\\u574A-sparkLab/AppStarCardWXSS/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/chenwenying/Desktop/\\u661F\\u706B\\u5DE5\\u574A-sparkLab/AppStarCardWXSS/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/chenwenying/Desktop/\\u661F\\u706B\\u5DE5\\u574A-sparkLab/AppStarCardWXSS/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/chenwenying/Desktop/\\u661F\\u706B\\u5DE5\\u574A-sparkLab/AppStarCardWXSS/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/chenwenying/Desktop/\\u661F\\u706B\\u5DE5\\u574A-sparkLab/AppStarCardWXSS/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _defineProperty from \"/Users/chenwenying/Desktop/\\u661F\\u706B\\u5DE5\\u574A-sparkLab/AppStarCardWXSS/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nvar _class;\nimport React, { Component, Fragment } from 'react';\nimport { observer } from 'mobx-react';\nimport { View, Image } from '@tarojs/components';\nimport { PageSkeleton, OssImage, Native, SafeAreaView } from '@hb/taro-fusion-components';\nimport { toJS } from 'mobx';\nimport { myUBT } from '@/common/tianqi';\nimport loginModel from '@/models/loginModel';\nimport { defaultUserAvatar } from '@/constants/page.const';\nimport './my.scss';\nimport { jumpToAnyUrl } from '@/utils/jumpTo';\nimport { noListIcon, settingsIcon } from '@/assets/index';\nimport CardCell from '@/components/cardCell';\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nvar My = observer(_class = /*#__PURE__*/function (_Component) {\n  function My() {\n    var _this;\n    _classCallCheck(this, My);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, My, [].concat(args));\n    _defineProperty(_this, \"state\", {\n      userInfo: {},\n      cardList: [\n        // {\n        //   id: 1,\n        //   imageUrl: 'https://img1.baidu.com/it/u=293340820,2978436854&fm=253&app=138&f=JPEG?w=683&h=856',\n        //   userName: '椰椰',\n        //   result: '符合正品特征',\n        // },\n        // {\n        //   id: 2,\n        //   imageUrl: 'https://img1.baidu.com/it/u=1704341968,2213944469&fm=253&app=138&f=JPEG?w=682&h=850',\n        //   userName: '椰椰',\n        //   result: '符合正品特征',\n        // },\n        // {\n        //   id: 3,\n        //   imageUrl: 'https://img1.baidu.com/it/u=3825010941,2472429333&fm=253&app=138&f=JPEG?w=684&h=620',\n        //   userName: '椰椰',\n        //   result: '符合正品特征',\n        // },\n        // {\n        //   id: 4,\n        //   imageUrl: 'https://img2.baidu.com/it/u=3440722248,2022509867&fm=253&app=138&f=JPEG?w=684&h=865',\n        //   userName: '椰椰',\n        //   result: '符合正品特征',\n        // },\n      ]\n    });\n    _defineProperty(_this, \"handleSettingsClick\", function () {\n      jumpToAnyUrl('/pages/settings/settings');\n    });\n    _defineProperty(_this, \"handleLoginClick\", function () {\n      jumpToAnyUrl('/pages/login/login');\n    });\n    _defineProperty(_this, \"handleScrollToLower\", function () {\n      console.log('页面触底了，开始加载更多数据');\n\n      // 模拟异步加载数据\n      setTimeout(function () {\n        var newCards = [{\n          id: _this.state.cardList.length + 1,\n          imageUrl: 'https://img1.baidu.com/it/u=293340820,2978436854&fm=253&app=138&f=JPEG?w=683&h=856',\n          userName: '椰椰',\n          result: '符合正品特征'\n        }, {\n          id: _this.state.cardList.length + 2,\n          imageUrl: 'https://img1.baidu.com/it/u=1704341968,2213944469&fm=253&app=138&f=JPEG?w=682&h=850',\n          userName: '椰椰',\n          result: '符合正品特征'\n        }, {\n          id: _this.state.cardList.length + 3,\n          imageUrl: 'https://img1.baidu.com/it/u=3825010941,2472429333&fm=253&app=138&f=JPEG?w=684&h=620',\n          userName: '椰椰',\n          result: '符合正品特征'\n        }, {\n          id: _this.state.cardList.length + 4,\n          imageUrl: 'https://img2.baidu.com/it/u=3440722248,2022509867&fm=253&app=138&f=JPEG?w=684&h=865',\n          userName: '椰椰',\n          result: '符合正品特征'\n        }];\n        _this.setState({\n          cardList: [].concat(_toConsumableArray(_this.state.cardList), newCards)\n        });\n      }, 1000); // 模拟网络延迟\n    });\n    _defineProperty(_this, \"renderNoList\", function () {\n      return /*#__PURE__*/_jsxs(View, {\n        className: \"no-list-container\",\n        children: [/*#__PURE__*/_jsx(Image, {\n          src: noListIcon,\n          className: \"no-list-icon\"\n        }), /*#__PURE__*/_jsx(View, {\n          className: \"no-list-text\",\n          children: \"\\u6682\\u65F6\\u6CA1\\u6709\\u9274\\u5B9A\\u4EFB\\u4F55\\u4E1C\\u897F\\u54E6\\uFF5E\"\n        })]\n      });\n    });\n    return _this;\n  }\n  _inherits(My, _Component);\n  return _createClass(My, [{\n    key: \"componentDidShow\",\n    value:\n    // componentDidMount() {\n    //   loginModel.checkLogin((isLogin) => {\n    //     if (isLogin) {\n    //       // 登录后调用获取用户信息\n    //       myModel.getUserInfo();\n    //     } else {\n    //       myModel.setUserInfo({\n    //         avatar: defaultUserAvatar,\n    //         nickname: '未登录',\n    //       });\n    //     }\n    //   }, { observe: true });\n    // }\n\n    function componentDidShow() {\n      myUBT.pageView();\n      Native.hideHomeButton();\n    }\n  }, {\n    key: \"componentDidHide\",\n    value: function componentDidHide() {\n      myUBT.pageViewOut();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var token = loginModel.loginResult.token;\n      var _ref = loginModel.loginResult.userInfo || {},\n        avatar = _ref.avatar,\n        nickname = _ref.nickname;\n      console.error(toJS(nickname));\n      var mobile = loginModel.loginResult.mobile;\n      var isLogin = !!token;\n      return /*#__PURE__*/_jsx(PageSkeleton, {\n        className: \"page-my-view\",\n        onScrollToLower: this.handleScrollToLower,\n        children: /*#__PURE__*/_jsxs(Fragment, {\n          children: [/*#__PURE__*/_jsx(View, {\n            className: \"top-gradient-bg\"\n          }), /*#__PURE__*/_jsxs(View, {\n            className: \"user-section\",\n            children: [/*#__PURE__*/_jsxs(View, {\n              className: \"user-info-container\",\n              children: [/*#__PURE__*/_jsx(OssImage, {\n                className: \"user-avatar\",\n                width: 132,\n                height: 132,\n                src: avatar || defaultUserAvatar\n              }), /*#__PURE__*/_jsx(View, {\n                className: \"user-info\",\n                children: isLogin ? /*#__PURE__*/_jsxs(_Fragment, {\n                  children: [/*#__PURE__*/_jsx(View, {\n                    className: \"user-nickname\",\n                    children: nickname || '用户'\n                  }), /*#__PURE__*/_jsxs(View, {\n                    className: \"user-id\",\n                    children: [\"ID\\uFF1A\", mobile || '1023920930']\n                  })]\n                }) : /*#__PURE__*/_jsxs(_Fragment, {\n                  children: [/*#__PURE__*/_jsx(View, {\n                    className: \"login-text-btn\",\n                    onClick: this.handleLoginClick,\n                    children: \"\\u53BB\\u767B\\u5F55\"\n                  }), /*#__PURE__*/_jsx(View, {\n                    className: \"user-id\",\n                    children: \"ID\\uFF1A1023920930\"\n                  })]\n                })\n              })]\n            }), /*#__PURE__*/_jsx(Image, {\n              src: settingsIcon,\n              className: \"settings-icon\",\n              onClick: this.handleSettingsClick\n            })]\n          }), /*#__PURE__*/_jsx(View, {\n            className: \"identification-section\",\n            children: /*#__PURE__*/_jsx(View, {\n              className: \"section-title\",\n              children: \"\\u6211\\u7684\\u9274\\u5B9A\"\n            })\n          }), this.state.cardList.length > 0 ? /*#__PURE__*/_jsx(View, {\n            className: \"image-grid-section\",\n            children: /*#__PURE__*/_jsx(View, {\n              className: \"image-grid\",\n              children: this.state.cardList.map(function (card) {\n                return /*#__PURE__*/_jsx(CardCell, {\n                  imageUrl: card.imageUrl,\n                  userName: card.userName,\n                  result: card.result\n                }, card.id);\n              })\n            })\n          }) : this.renderNoList(), /*#__PURE__*/_jsx(SafeAreaView, {\n            safeAreaInsetBottom: true\n          })]\n        }, \"scroll\")\n      });\n    }\n  }]);\n}(Component)) || _class;\nexport { My as default };","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/my/my!./my.tsx\"\nvar config = {\"navigationBarTitleText\":\"\",\"navigationStyle\":\"custom\",\"enableShareAppMessage\":false};\n\n\n\nvar taroOption = createPageConfig(component, 'pages/my/my', {root:{cn:[]}}, config || {})\nif (component && component.behaviors) {\n  taroOption.behaviors = (taroOption.behaviors || []).concat(component.behaviors)\n}\nvar inst = Page(taroOption)\n\n\n\nexport default component\n"],"names":[],"sourceRoot":""}